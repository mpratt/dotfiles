#!/bin/bash
############################################################
# Replaces tabs to 4 spaces recursively in files
# Michael Pratt <pratt@hablarmierda.net>
############################################################
if [ ${#} -eq 1 ]; then
    if [[ "${1}" == "--help" ]]; then
        echo "Usage: $(basename ${0}) [name of file | pattern]"
        echo "       When no filename or pattern is given, this script applies"
        echo "       to files with the php|js|css|html|py|rb|sh|txt extensions"
    else
        find $(pwd) -type f -iname ${1} -exec sed -i 's/\t/    /g' {} \;
    fi
else
    find $(pwd) -type f -iname '*.php' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.js' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.css' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.html' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.py' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.rb' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.sh' -exec sed -i 's/\t/    /g' {} \;
    find $(pwd) -type f -iname '*.txt' -exec sed -i 's/\t/    /g' {} \;
fi
